## Input와 onChange: React의 제어 컴포넌트(Controlled Component) 개념

React에서 '제어 컴포넌트'란, `<input>`, `<textarea>`, `<select>`와 같은 폼(Form) 요소의 값을 React 컴포넌트의 state를 통해 관리하는 방식을 의미합니다. 즉, 사용자의 입력을 DOM이 직접 처리하는 것이 아니라, React의 state가 값의 유일한 원천(Single Source of Truth)이 되어 UI를 제어합니다.

제출하신 코드의 `App.jsx` 파일에서 이 개념이 어떻게 적용되었는지 살펴보겠습니다.

```jsx
// /src/App.jsx

// ... 생략 ...
function App() {
  // ... 생략 ...
  const [bet, setBet] = useState(1); // 1. bet이라는 state 선언
  // ... 생략 ...

  const handleBetChange = (event) => {
    // 4. onChange 이벤트 핸들러
    let num = Number(event.target.value);
    if (num > 9) num = num % 10;
    if (num < 1) num = 1;
    num = Math.floor(num);
    setBet(num); // 5. state 업데이트
  };

  return (
    <div>
      {/* ... 생략 ... */}
      <div>
        <input
          type="number"
          value={bet} // 2. state와 input의 value를 연결
          min={1}
          max={9}
          onChange={handleBetChange} // 3. input의 변경을 감지하는 이벤트 핸들러 연결
        />
      </div>
      {/* ... 생략 ... */}
    </div>
  );
}
```

### 1. 상태(State)와 값(Value)의 연결

제어 컴포넌트의 첫 번째 단계는 React의 `state`와 `input` 요소의 `value`를 연결하는 것입니다.

- **`const [bet, setBet] = useState(1);`**
  `useState` 훅을 사용해 `bet`이라는 이름의 상태 변수를 선언하고 초기값으로 `1`을 설정했습니다. 이제 `bet` state는 input 필드에 표시될 값을 저장하고 관리하는 유일한 공간이 됩니다.

- **`value={bet}`**
  `<input>` 태그의 `value` 속성에 `bet` state를 직접 연결했습니다. 이렇게 함으로써, `input`에 표시되는 값은 항상 React의 `bet` state가 가진 값을 따르게 됩니다. 만약 `onChange` 핸들러 없이 `value`만 설정하면, 사용자가 키보드로 입력해도 화면의 값은 바뀌지 않습니다. React state가 값을 "제어"하고 있기 때문입니다.

### 2. 사용자 입력과 `onChange` 이벤트 핸들러

사용자가 `input` 필드에 새로운 값을 입력할 때마다 `onChange` 이벤트가 발생하고, 연결된 이벤트 핸들러 함수가 실행됩니다.

- **`onChange={handleBetChange}`**
  `input`의 값이 바뀔 때마다 `handleBetChange` 함수를 호출하도록 설정했습니다. React는 `onChange` 이벤트가 발생하면 이벤트 객체(event object)를 `handleBetChange` 함수에 인자로 전달합니다.

- **`const handleBetChange = (event) => { ... }`**
  이 함수는 제어 컴포넌트의 흐름을 완성하는 핵심적인 역할을 합니다.
  1.  **`event.target.value`**: 사용자가 `input`에 입력한 최신 값에 접근합니다. 예를 들어, 사용자가 숫자 '5'를 입력했다면 `event.target.value`는 문자열 `"5"`가 됩니다.
  2.  **값 처리**: `Number()`를 통해 값을 숫자로 변환하고, 1~9 사이의 정수가 되도록 검증 및 가공합니다. 이것이 제어 컴포넌트의 큰 장점 중 하나입니다. **state를 업데이트하기 전에 사용자의 입력을 즉시 검증하거나 원하는 형식으로 변경할 수 있습니다.**
  3.  **`setBet(num)`**: 처리된 새로운 값(`num`)으로 `setBet` 함수를 호출하여 `bet` state를 업데이트합니다.
  4.  **리렌더링**: `setBet` 함수가 호출되어 state가 변경되면, React는 `App` 컴포넌트를 다시 렌더링(re-rendering)합니다. 이때 `input` 태그의 `value`는 새롭게 업데이트된 `bet` state의 값을 받아서 화면에 표시하게 됩니다.

## 정리: 제어 컴포넌트의 데이터 흐름

요약하자면, 제어 컴포넌트는 다음과 같은 단방향 데이터 흐름을 따릅니다.

1.  **State → UI**: React `state`(`bet`)가 `<input>`의 `value`를 결정하여 화면에 표시합니다.
2.  **사용자 입력**: 사용자가 `<input>`에 값을 입력합니다.
3.  **`onChange` 발생**: `input`의 `onChange` 이벤트가 트리거되어 지정된 핸들러(`handleBetChange`)를 호출합니다.
4.  **State 업데이트**: 이벤트 핸들러는 사용자의 입력값(`event.target.value`)을 가져와 `state`를 업데이트(`setBet`)합니다.
5.  **리렌더링**: `state`가 변경되었으므로 컴포넌트가 리렌더링되고, 1번 단계부터 다시 시작하여 UI가 최신 `state`를 반영합니다.

이러한 방식을 통해 데이터의 흐름을 예측 가능하게 만들고, React 컴포넌트 내에서 사용자 입력값을 일관되게 관리하고 제어할 수 있습니다.
