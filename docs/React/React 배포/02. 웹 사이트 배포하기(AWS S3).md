## 내 React 프로젝트, 세상에 공개하기 (AWS S3 배포 가이드)

`npm run build`를 통해 완성된 내 React 프로젝트(`dist` 폴더)를 이제 인터넷 세상에 공개해 보겠습니다. **배포(Deploy)** 란, 이렇게 빌드된 정적 파일들을 다른 사람들이 접근할 수 있는 **웹 서버**에 올리는 과정을 말합니다.

이번 가이드에서는 대표적인 클라우드 서비스인 **Amazon Web Services(AWS)** 의 **S3**를 이용해 아주 쉽고 저렴하게 프로젝트를 배포하는 방법을 알아보겠습니다.

> **☁️ AWS S3란?**
> S3(Simple Storage Service)는 이름 그대로 파일을 저장하는 단순한 스토리지 서비스입니다. 구글 드라이브처럼 파일을 저장하는 용도로도 쓰이지만, 정적 웹사이트 호스팅 기능을 제공하여 React 같은 SPA(Single Page Application) 프로젝트를 배포하는 데 아주 널리 사용됩니다.

---

### 1단계: S3 버킷 생성하기

먼저, 파일을 담아둘 커다란 저장 공간인 **버킷(Bucket)** 을 만들어야 합니다.

1.  [AWS 콘솔](https://aws.amazon.com/ko/)에 로그인한 후, 서비스 검색창에 **S3**를 입력하여 S3 대시보드로 이동합니다.
2.  **[버킷 만들기]** 버튼을 클릭합니다.
3.  **버킷 이름**을 입력합니다. 버킷 이름은 전 세계에서 유일해야 합니다. (예: `my-dice-game-2025`)
    > 💡 **Tip:** 나중에 `mydicegame.com`과 같은 개인 도메인을 연결할 계획이라면, 버킷 이름을 도메인 주소와 똑같이 만드는 것이 좋습니다.
4.  **AWS 리전**은 보통 현재 위치와 가장 가까운 곳(예: `ap-northeast-2` Seoul)을 선택합니다.
5.  **'이 버킷의 퍼블릭 액세스 차단 설정'** 섹션에서 **'모든 퍼블릭 액세스 차단'** 의 체크를 **해제**합니다. 웹사이트는 모든 사람이 접근할 수 있어야 하기 때문이죠.
6.  체크 해제 시 나타나는 경고문 아래의 **'현재 설정으로 인해... 퍼블릭 상태가 될 수 있음을 확인합니다.'** 에 체크합니다.
7.  나머지 설정은 그대로 두고, 맨 아래의 **[버킷 만들기]** 버튼을 클릭합니다.

---

### 2단계: 정적 웹 사이트 호스팅 활성화

이제 방금 만든 버킷이 웹사이트처럼 동작하도록 설정을 변경해야 합니다.

1.  버킷 목록에서 방금 만든 버킷의 이름을 클릭합니다.
2.  **[속성]** 탭으로 이동하여 페이지 맨 아래로 스크롤합니다.
3.  **'정적 웹 사이트 호스팅'** 섹션을 찾아 **[편집]** 버튼을 클릭합니다.
4.  **'활성화'** 를 선택하고, 아래 두 항목을 모두 `index.html`로 입력합니다.
    - **인덱스 문서**: `index.html`
    - **오류 문서**: `index.html`
      > 💡 **Tip:** 오류 문서를 `index.html`로 지정하면, 존재하지 않는 경로로 접속했을 때 404 오류 대신 `index.html`을 보여줍니다. 덕분에 React Router 같은 라이브러리가 클라이언트 사이드에서 경로를 정상적으로 처리할 수 있게 됩니다. (SPA 라우팅의 핵심\!)
5.  **[변경 사항 저장]** 버튼을 클릭합니다.

---

### 3단계: 권한 설정하기 (버킷 정책)

이제 모든 인터넷 사용자가 우리 버킷의 파일들을 '읽을' 수 있도록 허용하는 규칙, 즉 **버킷 정책**을 설정해야 합니다.

1.  **[권한]** 탭으로 이동하여 **'버킷 정책'** 섹션의 **[편집]** 버튼을 클릭합니다.

2.  아래의 JSON 코드를 복사하여 **'정책'** 입력창에 붙여넣습니다.

    ```json
    {
      "Version": "2012-10-17",
      "Statement": [
        {
          "Sid": "PublicReadGetObject",
          "Effect": "Allow",
          "Principal": "*",
          "Action": "s3:GetObject",
          "Resource": "arn:aws:s3:::YOUR_BUCKET_NAME/*"
        }
      ]
    }
    ```

3.  위 코드에서 **`YOUR_BUCKET_NAME`** 부분을 **자신이 만든 버킷 이름으로 정확하게 수정**합니다. (예: `arn:aws:s3:::my-dice-game-2025/*`)

    > **코드 설명:** 이 정책은 "모든 사용자(`Principal: "*"`)가 이 버킷의 모든 파일(`Resource: ".../*"`)에 대해 읽기 작업(`Action: "s3:GetObject"`)을 하는 것을 허용(`Effect: "Allow"`)한다"는 의미입니다.

4.  **[변경 사항 저장]** 버튼을 클릭합니다. 이제 배포를 위한 모든 설정이 끝났습니다.

---

### 4단계: 프로젝트 파일 업로드하기 🚀

드디어 마지막 단계입니다. 빌드를 통해 생성된 `dist` 폴더의 내용물을 S3 버킷에 업로드합니다.

1.  **[객체]** 탭으로 이동합니다.
2.  **[업로드]** 버튼을 클릭합니다.
3.  내 컴퓨터에서 **`dist` 폴더 안으로 들어가**, 그 안에 있는 **모든 파일과 폴더**를 선택하여 업로드 창으로 드래그 앤 드롭합니다. (`dist` 폴더 자체가 아닌 그 안의 내용물 전부\!)
4.  **[업로드]** 버튼을 클릭하여 업로드를 완료합니다.

### 5단계: 배포 확인하기

업로드가 완료되면, 우리 웹사이트가 잘 뜨는지 확인해 봅시다.

1.  **[속성]** 탭으로 다시 이동하여 **'정적 웹 사이트 호스팅'** 섹션으로 갑니다.
2.  이제 **'버킷 웹 사이트 엔드포인트'** 에 `http://...`로 시작하는 주소가 생성되어 있을 겁니다.
3.  **이 주소를 클릭하면 마침내 인터넷 세상에 공개된 당신의 프로젝트를 만날 수 있습니다\!**

---

### 다음 단계: 커스텀 도메인 연결하기

S3의 기본 주소 대신 `mydicegame.com`과 같은 나만의 주소를 연결하고 싶다면, AWS의 **Route 53** 서비스를 이용할 수 있습니다. 관련 내용은 아래 링크를 참고해 보세요.

- **참고 자료**: [AWS Route 53으로 커스텀 도메인 연결하기](https://www.codeit.kr/topics/getting-started-with-react/lessons/4660)
