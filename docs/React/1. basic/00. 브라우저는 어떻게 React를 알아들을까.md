## 브라우저는 어떻게 React를 알아들을까? (트랜스파일링과 번들링)

우리가 작성한 React 프로젝트는 어떻게 웹 브라우저에서 마법처럼 동작할까요? `npm run build`로 생성된 `dist` 폴더의 비밀을 파헤치며 그 원리를 알아보겠습니다.

### 문제: 브라우저는 JSX를 이해하지 못한다

만약 우리가 작성한 JSX 코드를 그대로 복사해서 브라우저 개발자 도구의 콘솔에 붙여넣으면 어떻게 될까요? 아마도 "구문이 잘못되었습니다(SyntaxError)"라는 빨간 에러 메시지를 만나게 될 겁니다.

그 이유는 웹 브라우저가 `<button className="...">`과 같은 **JSX 문법을 직접 해석할 수 없기 때문**입니다. 브라우저는 오직 순수한 HTML, CSS, JavaScript만을 이해할 수 있죠.

### 해결책 1: 트랜스파일링 (JSX를 JavaScript로 번역하기)

이 문제를 해결하기 위해, 우리는 JSX 코드를 브라우저가 이해할 수 있는 순수한 JavaScript 코드로 **'번역'** 해야 합니다. 이 과정을 **트랜스파일링(Transpiling)** 이라고 부릅니다.

가장 대표적인 트랜스파일러(번역기)는 **Babel**입니다. [Babel 공식 사이트](https://babeljs.io/)의 'Try it out' 탭에서 우리 코드가 어떻게 변환되는지 직접 확인해 볼 수 있습니다.

**우리의 JSX 코드 (`Button.jsx`)**

```jsx
function Button({ children, onClick, color = 'blue', className = '' }) {
  const classNames = `Button ${color} ${className}`;
  return (
    <button className={classNames} onClick={onClick}>
      {children}
    </button>
  );
}
```

**Babel이 번역한 JavaScript 코드**

```javascript
import { jsx as _jsx } from 'react/jsx-runtime';

function Button({ children, onClick, color = 'blue', className = '' }) {
  const classNames = `Button ${color} ${className}`;
  return /*#__PURE__*/ _jsx('button', {
    className: classNames,
    onClick: onClick,
    children: children,
  });
}
```

보시는 것처럼, 친숙했던 JSX 문법이 `_jsx()`라는 함수를 호출하는 형태로 바뀌었습니다. 실제 웹페이지에서는 바로 이렇게 번역된 코드가 실행되는 것입니다.

### 해결책 2: 번들링 (여러 파일을 하나로 묶기)

트랜스파일링 외에 한 가지 중요한 과정이 더 있습니다. 바로 **번들링(Bundling)** 입니다.

`npm run build`로 생성된 `dist` 폴더를 열어보면, 우리가 작업했던 `src` 폴더와는 구조가 완전히 다릅니다. `assets` 폴더 안에는 이름도 알아보기 힘든 `index-....js` 와 `index-....css` 파일이 있죠.

이 파일들은 우리 프로젝트의 모든 JavaScript와 CSS 파일들을 **하나로 합치고, 불필요한 공백이나 주석을 제거하여 압축**한 결과물입니다. 이렇게 여러 파일을 효율적으로 묶는 과정을 **번들링**이라고 하며, 그 결과로 만들어진 파일을 **번들(Bundle)** 이라고 부릅니다.

> **💡 왜 번들링을 할까요?**
> 웹사이트를 로드할 때, 여러 개의 작은 파일을 다운로드하는 것보다 잘 압축된 소수의 큰 파일을 다운로드하는 것이 훨씬 빠릅니다. 번들링은 네트워크 요청 횟수를 줄이고 파일 크기를 최적화하여 사용자가 웹사이트를 더 빠르게 경험할 수 있게 해줍니다.

---

### 최종 정리

우리가 웹사이트에 접속해서 보는 화면은 아래와 같은 과정을 거쳐 만들어진 최종 결과물입니다.

`JSX 코드` ➡️ **[트랜스파일링]** ➡️ `순수 JavaScript 코드` ➡️ **[번들링]** ➡️ `최적화된 번들 파일` ➡️ **웹 브라우저에서 실행**

`npm run dev`로 개발을 할 때나 `npm run build`로 배포용 파일을 만들 때, **Vite**와 같은 모던 개발 도구는 이 모든 **트랜스파일링과 번들링 과정을 내부에서 자동으로 처리**해주고 있었던 것입니다.

이 두 개념은 React뿐만 아니라 현대적인 프론트엔드 개발의 핵심이므로 잘 기억해두면 좋습니다.
